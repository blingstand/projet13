{% extends 'core/base.html' %}
{% block content %}
<section class="h-100 ">
	<article class="h-100 p-3 container">
		<h2 class="mt-3 pl-3">
	        Tableau De Bord pour le mois : {{date}}
	    </h2>
		<div class="h-100 row">
			<div id='graph' class="h-100 graph col-9 text-center "></div>
			<div class="col-3 container-dash-3-buttons bg-blue-trans">
				<div class=" h-100 p-2 dash-3-buttons">
					<div onclick=owner()  class="mt-3  d-flex align-items-center justify-content-center curs-pointer" title="propriétaire(s) devant stériliser">Propriétaires <br> avec obligations : {{nb_owners}}</div>
					<div onclick=contacted() class="mt-3  d-flex align-items-center justify-content-center curs-pointer" title="propriétaire(s) à contacter"> Propriétaires <br> à contacter : {{nb_to_contact}} </div>
					<div onclick=to_contact() class="mt-3  d-flex align-items-center justify-content-center curs-pointer" title="propriétaire(s) contacté(s)">Propriétaires <br> contactés : {{nb_contacted}}</div>
				</div>
			</div>
		</div>
		<p>

		</p>

	</article>
</section>
{% load static %}
<script type="text/javascript" src='{% static "spa_core/js/highcharts.js" %}'>
</script>
<script type="text/javascript" src='{% static "spa_core/js/graph.js" %}'> 
</script>
<script type="text/javascript">
	const container = 'graph';
	const datas = {
		'col1' :{{list_contacted}},
		'col2' : {{list_to_contact}}
	};
	console.log(datas)
	CreateChart(container, datas);


	const owner = function(){
		//this function sends user to sheet/index.html
		window.location.href = "{% url 'sheet:index' own=1 action='display' search=1%}"
	}
	const contacted = function(){
		//this function sends user to sheet/index.html
		window.location.href = "{% url 'sheet:index' own=1 action='display' search=2%}"
	}
	const to_contact = function(){
		//this function sends user to sheet/index.html
		window.location.href = "{% url 'sheet:index' own=1 action='display' search=3%}"
	}
</script>
{% endblock  %}

